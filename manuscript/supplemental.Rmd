\newpage

# Appendix A: Supplementary Material {-}

\beginsupplement

```{r concurvity, echo=FALSE, fig.cap='Concurvity estimates for reduced cover classes used in models.', out.width='100%'}  
  include_graphics('../figures/coverCorPlots/concurvityEstimate_reduced.png',dpi=NA)
```

```{r landscapeComp, echo=FALSE, fig.cap='Percent cover of landscape cover classes in annuli surrounding each trap location. Sites are represented by individual lines. Mean cover for each class is listed in each sub-heading.', fig.width=5, fig.height=5}  
coverList %>% group_by(cover) %>% mutate(p=sum(prop)) %>% ungroup() %>% mutate(p=100*round(p/sum(unique(p)),4)) %>% 
  mutate(cover=paste0(as.character(cover),' (',p,'%)'),prop=prop*100) %>% 
  mutate(cover=factor(cover,levels=unique(cover))) %>% 
  ggplot(aes(dist,prop,group=site))+geom_line(alpha=0.2)+
  facet_wrap(~cover,ncol=4)+theme_classic()+theme(axis.text = element_text(size = 8),strip.text=element_text(size=8))+
  labs(y='Percent cover',x='Distance from trap location (m)')
```

(ref:PteMelSTCap) Temporal and spatial components of _Pterostichus melanarius_ activity-density (after accounting for landscape composition and trap location). a) shows the effect of day of year, and b) shows the spatially smoothed effect of site location.

```{r PteMelSpatiotemporal, echo=FALSE, fig.cap='(ref:PteMelSTCap)', out.width='100%'}
  include_graphics('../figures/Pterostichus_melanarius_raneff.png',dpi=NA)
```

(ref:ParDisSTCap) Temporal and spatial components of _Pardosa distincta_ activity-density (after accounting for landscape composition and trap location). a) shows the effect of day of year, and b) shows the spatially smoothed effect of site location.

```{r ParDisSpatiotemporal, echo=FALSE, fig.cap='(ref:ParDisSTCap)', out.width='100%'}
  include_graphics('../figures/Pardosa_distincta_raneff.png',dpi=NA)
```

(ref:ParMoeSTCap) Temporal and spatial components of _Pardosa moesta_ activity-density (after accounting for landscape composition and trap location). a) shows the effect of day of year, and b) shows the spatially smoothed effect of site location.

```{r ParMoeSpatiotemporal, echo=FALSE, fig.cap='(ref:ParMoeSTCap)', out.width='100%'}
  include_graphics('../figures/Pardosa_moesta_raneff.png',dpi=NA)
```

(ref:OpilioSTCap) Temporal and spatial components of _Phalangium opilio_ activity-density (after accounting for landscape composition and trap location). a) shows the effect of day of year, and b) shows the spatially smoothed effect of site location.

```{r OpilioSpatiotemporal, echo=FALSE, fig.cap='(ref:OpilioSTCap)', out.width='100%'}
  include_graphics('../figures/Opiliones_raneff.png',dpi=NA)
```

```{r PteMelLinear, echo=FALSE, warning=FALSE}
pmelLinTerms %>% select(-p) %>% 
  kable(.,caption='Trap location (cover type that trap was located in) intercept estimates for \\emph{Pterostichus melanarius}',col.names=c('Trap location','$\\beta$','S.E.','Z','p'),
      digits=c(1,2,2,2,2),align='rrrrl',escape=FALSE)
```


```{r PteMelSmooth, echo=FALSE, warning=FALSE}
pmelSmTerms %>% select(-Ref.df,-p) %>% 
  kable(.,caption='Smooth terms for \\emph{Pterostichus melanarius}. \\emph{s} indicates a thin-plate spline, \\emph{ti} indicates a tensor-product interaction. All terms except for day and (E,N) are functional regression fits.',
      col.names=c('Smoothing term','E.d.f.','$\\chi^2$','p'),
      digits=c(1,2,2,2),align='rrll',escape=FALSE)
```

```{r ParDisLinear, echo=FALSE, warning=FALSE}
pdisLinTerms %>% select(-p) %>% 
  kable(.,caption='Trap location (cover type that trap was located in) intercept estimates for \\emph{Pardosa distincta}',col.names=c('Trap location','$\\beta$','S.E.','Z','p'),
        digits=c(1,2,2,2,2),align='rrrrl',escape=FALSE)
```

```{r ParDisSmooth, echo=FALSE, warning=FALSE}
pdisSmTerms %>% select(-Ref.df,-p) %>% 
  kable(.,caption='Smooth terms for \\emph{Pardosa distincta}. \\emph{s} indicates a thin-plate spline, \\emph{ti} indicates a tensor-product interaction. All terms except for day and (E,N) are functional regression fits.',
        col.names=c('Smoothing term','E.d.f.','$\\chi^2$','p'),
        digits=c(1,2,2,2),align='rrll',escape=FALSE)
```

```{r ParMoeLinear, echo=FALSE, warning=FALSE}
pmoeLinTerms %>% select(-p) %>% 
  kable(.,caption='Trap location (cover type that trap was located in) intercept estimates for \\emph{Pardosa moesta}.',col.names=c('Trap location','$\\beta$','S.E.','Z','p'),
        digits=c(1,2,2,2,2),align='rrrrl',escape=FALSE)
```

```{r ParMoeSmooth, echo=FALSE, warning=FALSE}
pmoeSmTerms %>% select(-Ref.df,-p) %>% 
  kable(.,caption='Smooth terms for \\emph{Pardosa moesta}. \\emph{s} indicates a thin-plate spline, \\emph{ti} indicates a tensor-product interaction. All terms except for day and (E,N) are functional regression fits.',
        col.names=c('Smoothing term','E.d.f.','$\\chi^2$','p'),
        digits=c(1,2,2,2),align='rrll',escape=FALSE)
```

```{r OpilioLinear, echo=FALSE, warning=FALSE}
opilLinTerms %>% select(-p) %>% 
  kable(.,caption='Trap location (cover type that trap was located in) intercept estimates for \\emph{Phalangium opilio}',col.names=c('Trap location','$\\beta$','S.E.','Z','p'),
        digits=c(1,2,2,2,2),align='rrrrl',escape=FALSE)
```

```{r OpilioSmooth, echo=FALSE, warning=FALSE}
opilSmTerms %>% select(-Ref.df,-p) %>% 
  kable(.,caption='Smooth terms for \\emph{Phalangium opilio}. \\emph{s} indicates a thin-plate spline, \\emph{ti} indicates a tensor-product interaction. All terms except for day and (E,N) are functional regression fits.',
        col.names=c('Smoothing term','E.d.f.','$\\chi^2$','p'),
        digits=c(1,2,2,2),align='rrll',escape=FALSE)
```

\newpage

# Appendix B: Interpreting Functional Regression Plots {-}

Functional linear regression is a special case of linear regression, where both the independent variable is predicted by a functional dependent variable, meaning that the slope is a function (vector) rather a fixed (scalar) value [@ramsay2004; @yen2014].
Therefore, the interpretation of a functional regression plot is very different from that of a simple linear regression plot.
Figure \@ref(fig:frExample)a shows a simple linear regression plot of a hypothetical relationship between trap _activity-density_ (_y_) and a single predictor, _proportion cover_ (_x_), which is measured in a circle of a fixed radius surrounding each trap.
If we suppose that the relationship between _x_ and _y_ is similar at all radii at which _x_ is measured, then Figure \@ref(fig:frExample)b shows the resulting functional linear regression plot, where the slope ($\beta$) is the same at all distances (we avoid the problem of overlapping concentric circles by using concentric _annuli_).
In reality, it is more likely that nearby cover will be more influential on activity-density than far-away cover, which could result in a relationship similar to Figure \@ref(fig:frExample)c.
As functional regression takes any continuous predictor of _y_, it is also possible to use proportion cover (measured within an annulus of a fixed radius) as a predictor of measurements taken across time, allowing the effect of proportion cover to vary over the course of the season (Figure \@ref(fig:frExample)d).
Finally, the effect of proportion cover over distance and time may be modeled as a smoothed surface, representing the joint spatio-temporal influence of landscape cover on activity-density.

```{r frExample, echo=FALSE, fig.cap='Examples of (functional) linear regression plots. \\textbf{a)} shows a simple linear regression plot, with a single slope value for a single regressor. \\textbf{b)} shows the equivalent plot in functional regression form, where the the slope is a smoothed function that maps onto a function-valued regressor. \\textbf{c)} and \\textbf{d)} show functional linear regression plots where the slope varies with the location of the regressor.', out.width='100%'}  
  include_graphics('../figures/frExample.png',dpi=NA)
```